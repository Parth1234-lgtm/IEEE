<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup">
    <h1>Attention-Adaptive UI</h1>
    <p class="subtitle">Connects to FastAPI `POST /process`</p>

    <div class="section">
      <h2>Explicit request (auto-apply)</h2>

      <label class="label" for="userText">Text</label>
      <textarea id="userText" class="textarea" rows="3" placeholder="Describe what you needâ€¦"></textarea>

      <div class="row">
        <button id="btnGetSelection" class="btn" type="button">Use selection</button>
        <button id="btnClearSelection" class="btn" type="button">Clear</button>
      </div>
      <div id="selectionPreview" class="preview muted">No selection captured.</div>

      <div class="row">
        <button id="btnRecord" class="btn btn-primary" type="button">Record audio</button>
        <button id="btnClearAudio" class="btn" type="button">Clear audio</button>
      </div>
      <div id="audioStatus" class="preview muted">No audio recorded.</div>

      <div class="row">
        <button id="btnSendExplicit" class="btn btn-primary" type="button">Send</button>
        <button id="btnReset" class="btn" type="button">Reset page</button>
      </div>
      <div id="status" class="status" style="display:none"></div>
    </div>

    <div class="section">
      <h2>Currently applied</h2>
      <div id="appliedUi" class="applied-block"></div>
      <div id="appliedContent" class="applied-block"></div>
      <button id="btnRefreshApplied" class="btn" type="button">Refresh</button>
    </div>
  </div>
  <script src="popup.js"></script>
</body>
</html>
